# گشت شبانه بتمن در گاتهام (Batmobile)

## معرفی پروژه

**گشت شبانه بتمن در گاتهام (Batmobile)** یک بازی دو‌بعدی ساده با Unity (الگوی 2D URP) است که در آن بازیکن بت‌موبیل را در خیابان‌های شبانه‌ی گاتهام کنترل می‌کند.  
تمرکز این پروژه روی مفاهیم پایه‌ای زیر است:

- **حرکت و شبیه‌سازی ساده رانندگی** از طریق اسکرول‌کردن پس‌زمینه
- **مدیریت حالت‌ها (State)** برای بتمن/بت‌موبیل: حالت عادی، مخفی‌کاری و هشدار
- **استفاده از نور و صدا**: چراغ جلو، نورهای هشدار چشمک‌زن، آلارم و Bat-Signal در آسمان
- **کدنویسی تمیز و مستندسازی** با اسکریپت‌های جدا برای حرکت، حالت‌ها، نورها و صداها

کد کامل پروژه در این مخزن گیت‌هاب قرار دارد:  
[github.com/ArmanZarkalam/Batmobile](https://github.com/ArmanZarkalam/Batmobile)

---

## دستورالعمل‌های اجرای بازی

### اجرای پروژه در Unity

1. مخزن را کلون/دانلود کنید:
   - `git clone https://github.com/ArmanZarkalam/Batmobile`
   - یا فایل ZIP را از صفحه‌ی گیت‌هاب دانلود و Extract کنید.
2. Unity Hub را باز کنید و روی **Open** کلیک کنید.
3. پوشه‌ی پروژه‌ی `Batmobile` را انتخاب کنید.
4. بعد از باز شدن پروژه، صحنه‌ی اصلی (مثلاً `GothamNight` یا `SampleScene` ویرایش‌شده) را باز کنید.
5. روی دکمه‌ی **Play** در نوار بالای Unity کلیک کنید تا بازی اجرا شود.

### ساخت (Build) برای ویندوز

1. از منوی بالا: `File > Build Settings…`
2. روی **Add Open Scenes** کلیک کنید تا صحنه‌ی اصلی به لیست اضافه شود.
3. پلتفرم را روی **PC, Mac & Linux Standalone** و Target Platform را روی **Windows** (x86_64) بگذارید و **Switch Platform** را بزنید.
4. روی **Build** کلیک کنید، یک پوشه (مثلاً `Build`) انتخاب کنید و صبر کنید تا ساخت کامل شود.
5. برای اجرای بازی، فایل `.exe` داخل پوشه‌ی Build را اجرا کنید.

---

## کنترل‌ها

### کنترل‌های حرکت و حس رانندگی

- **A / D**: حرکت دادن پس‌زمینه به چپ و راست  
  در ظاهر، ماشین ثابت است و شهر گاتهام به چپ و راست اسکرول می‌شود تا حس رانندگی ایجاد شود.
- **Shift (چپ یا راست) + A / D**: اسکرول سریع‌تر پس‌زمینه (بوست، شبیه بازی‌های ریسینگ)

### حالت‌های بتمن / بت‌موبیل

- **V**: حالت **Normal** (عادی)  
  سرعت معمولی (در منطق بازی) و نور چراغ جلو با شدت نرمال
- **C**: حالت **Stealth** (مخفی‌کاری)  
  سرعت کاهش‌یافته (در منطق اسکریپت) و نور چراغ جلو کم‌نورتر برای حس مخفی‌کاری
- **Space**: حالت **Alert** (هشدار)  
  فعال‌شدن نورهای چشمک‌زن قرمز/آبی روی بت‌موبیل و پخش صدای آلارم. با خارج شدن از حالت هشدار (مثلاً با زدن `V` یا `C`)، نورها و آلارم متوقف می‌شوند.

### Bat-Signal و نورها

- **B**: روشن/خاموش کردن **Bat-Signal** در آسمان  
  یک لوگوی بتمن تاریک در آسمان وجود دارد که هنگام فعال شدن، روشن و در آسمان کمی می‌چرخد. هنگام خاموش بودن، لوگو به صورت تیره و کم‌رنگ باقی می‌ماند.
- **L**: روشن/خاموش کردن چراغ جلو (Headlight) در حالت‌های غیر از Alert  
  در حالت Alert، نورهای هشدار کنترل جداگانه دارند و توسط سیستم هشدار مدیریت می‌شوند.

---

## خلاصه‌ی کار انجام‌شده

- **کنترل حرکت و شبیه‌سازی رانندگی**  
  اسکریپت `BackgroundScroller` برای اسکرول‌کردن پس‌زمینه با کلیدهای A/D و افزایش سرعت با Shift استفاده شده است تا بدون پیچیدگی کنترل فیزیک ماشین، حس بازی‌های ریسینگ را ایجاد کند. حرکت فیزیکی جلو/عقب بت‌موبیل غیرفعال شده و ماشین در مرکز صفحه ثابت می‌ماند.

- **مدیریت حالت‌ها (Normal / Stealth / Alert)**  
  اسکریپت `BatmobileController` یک enum از حالت‌ها دارد و با کلیدهای `V`، `C` و `Space` بین آن‌ها سوییچ می‌کند. هر حالت روی سرعت منطقی، شدت نور چراغ جلو و وضعیت سیستم هشدار تاثیر می‌گذارد.

- **نور و صدای حالت هشدار**  
  اسکریپت `AlertEffects` روی یک آبجکت فرزند (`AlertEffects`) قرار دارد و مسئول روشن و خاموش کردن متناوب دو `Light2D` (قرمز و آبی) و پخش/توقف صدای آلارم از `AudioSource` است. این سیستم فقط در حالت Alert فعال شده و در سایر حالت‌ها خاموش می‌شود.

- **Bat-Signal در آسمان**  
  اسکریپت `BatSignalController` روی آبجکت `BatSignal` قرار دارد و کنترل روشن/خاموش شدن نور `Light2D` و لوگوی بتمن، تغییر رنگ لوگو بین حالت تیره (خاموش) و روشن (فعال)، و چرخش آرام Bat-Signal هنگام روشن بودن را بر عهده دارد.

- **گرافیک و فضای گاتهام**  
  از بک‌گراند شبانه‌ی گاتهام و یک مجموعه‌ی پیکسل‌آرت خودرو برای شبیه‌سازی بت‌موبیل (Jeep به‌عنوان Batmobile) استفاده شده است. همچنین با استفاده از Global Light 2D و نورهای موضعی، فضای شب و نگهبانی بتمن ایجاد شده است.

- **مستندسازی و کنترل نسخه**  
  کدها با اسکریپت‌های جدا (`BatmobileController`, `AlertEffects`, `BatSignalController`, `BackgroundScroller`) سازمان‌دهی شده‌اند و روی بخش‌های کلیدی کد، توضیحات (Summary و کامنت‌ها) برای شفاف‌سازی منطق نوشته شده است.  
  تاریخچه‌ی کامیت‌ها و کد کامل در مخزن گیت‌هاب زیر قابل مشاهده است:  
  [https://github.com/ArmanZarkalam/Batmobile](https://github.com/ArmanZarkalam/Batmobile)


